<div class="container-fluid px-5">
    <div class="row mt-3 px-5">
        <div class="col-12 col-lg-12">
            <div class="row">
                <div class="row offset-lg-2 col-lg-3 col-12 mt-4 ">
                    <legend class="col-form-label col-3 col-lg-4 pt-0 align-self-center text-center">Objet</legend>
                    <div class ="col-9 col-lg-6">
                        <div class="form-check form-check">
                            <input (change)="selectObject(this.TypeObject.OR)" class="form-check-input" type="radio" name="inlineRadioOptions" id="OR" required checked>
                            <label class="form-check-label" for="OR">Objet repère</label>
                        </div>
                        <div class="form-check form-check">
                            <input (change)="selectObject(this.TypeObject.Item)" class="form-check-input" type="radio" name="inlineRadioOptions" id="Item" required>
                            <label class="form-check-label" for="Item">Item</label>
                        </div>
                        <div class="form-check form-check">
                            <input (change)="selectObject(this.TypeObject.SI)" class="form-check-input" type="radio" name="inlineRadioOptions" id="SI" required>
                            <label class="form-check-label" for="SI">Sous Item</label>
                        </div>
                        <div class="invalid-tooltip">
                            Veuillez renseigner un Type d'Objet.
                        </div>
                    </div>
                </div>
                <div class=" col-lg-5 col-12">
                    <div class="col-11 mt-5">
                        <div class="row ">
                            <div class="input-group">
                                <label class="input-group-text col-3 col-lg-2" for="atelierSelect">Atelier</label>
                                <select (change)=selectAtelier($event) class="form-select" id="atelierSelect" aria-label="Default select example">
                                    <option value ="" selected>Sélectionner l'atelier</option>
                                    <option *ngFor="let atelier of listeAtelier" [value]="atelier.idAtelier">
                                        {{atelier.idAtelier}} - {{atelier.libelleAtelier}}
                                    </option>
                                </select>
                            </div> 
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row m-0 p-0"> 
            <ng-container *ngIf="objectNow == 'OR'">
                <div class="col-lg-6 offset-lg-3 col-12 mt-lg-5">
                    <div class="scrolltable"> 
                        <table class="table table-hover cursor ">
                            <thead>
                            <tr>
                                <th class="col-4 text-center" scope="col-4">N° Séquentiel</th>
                                <th class="col-8 text-center align-middle" scope="col-8">Libellé</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngIf="this.listeOR.length === 0; else afficheOR">
                                <td class="text-center" colspan="2">Aucun Sous Item</td>
                            </tr>
                            <ng-template #afficheOR>
                                <tr data-bs-toggle="modal" data-bs-target="#Suppresion" *ngFor="let OR of listeOR" (click)="selectOR(OR.idObjetRepere)" [ngClass]="{'actifNow' : OR.idObjetRepere === this.idORSelect }" >
                                    <td class="col-4">{{OR.idObjetRepere}}</td>
                                    <td class="col-8">{{OR.libelleObjetRepere}}</td>
                                </tr>
                            </ng-template>
                            
                            </tbody>
                        </table>
                    </div>
                </div>
            </ng-container>

            <ng-container  *ngIf="objectNow == 'Item'">
                
                <div class="offset-lg-2 col-lg-4 px-lg-5 col-12 mt-lg-5">
                    <div class="scrolltable"> 
                        <table class="table table-hover cursor ">
                            <thead>
                            <tr>
                                <th class="col-4 text-center" scope="col-4">N° Séquentiel</th>
                                <th class="col-8 text-center align-middle" scope="col-8">Libellé</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngIf="this.listeOR.length === 0; else afficheOrItem">
                                <td class="text-center" colspan="2">Aucun Sous Item</td>
                            </tr>
                            <ng-template #afficheOrItem>
                                <tr *ngFor="let OR of listeOR" (click)="selectOR(OR.idObjetRepere)" [ngClass]="{'actifNow' : OR.idObjetRepere === this.idORSelect }" >
                                    <td class="col-4">{{OR.idObjetRepere}}</td>
                                    <td class="col-8">{{OR.libelleObjetRepere}}</td>
                                </tr>
                            </ng-template>
                            
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-lg-4 px-lg-5 col-12 mt-lg-5">
                    <div class="scrolltable"> 
                        <table class="table table-hover cursor ">
                            <thead>
                            <tr>
                                <th class="col-4 text-center" scope="col-4">N° Séquentiel</th>
                                <th class="col-8 text-center align-middle" scope="col-8">Libellé</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngIf="this.listeItem.length === 0; else afficheItem">
                                <td class="text-center" colspan="2">Aucun Item</td>
                            </tr>
                            <ng-template #afficheItem>
                                <tr data-bs-toggle="modal" data-bs-target="#Suppresion" *ngFor="let item of listeItem"  (click)="selectItem(item.idItem)" [ngClass]="{'actifNow' : item.idItem === this.idItemSelect }" >
                                    <td class="col-4">{{item.idItem}}</td>
                                    <td class="col-8">{{item.libelleItem}}</td>
                                </tr>
                            </ng-template>
                            
                            </tbody>
                        </table>
                    </div>
                </div>
            
            </ng-container>
        </div>
        
    </div>
    
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="liveToast" class="toast hide"  data-bs-autohide="false" role="alert" data-bs-delay="10000" aria-live="assertive" aria-atomic="true" [ngClass]="ToastAffiche ? 'show' : 'hide'">
        <div class="toast-header">
            <svg class="bd-placeholder-img rounded me-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" attr.fill="{{colorToast}}"></rect></svg>
            <strong class="me-auto">{{typeToast}}</strong>
            <button (click)="closeToast()" type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            {{messageToast}}
        </div>
        </div>
    </div>

    

</div>

  
  <!-- Modal -->
  <div class="modal  fade" id="Suppresion" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Supprimer</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div *ngIf="this.objectNow === this.TypeObject.OR" class="modal-body">
          Voulez-vous supprimer l'objet repère {{this.idORSelect}} ? 
        </div>
        <div *ngIf="this.objectNow === this.TypeObject.Item" class="modal-body">
            Voulez-vous supprimer l'item {{this.idItemSelect}} ? 
          </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="deleteObject()" data-bs-dismiss="modal">Supprimer</button>
        </div>
      </div>
    </div>
  </div>
  